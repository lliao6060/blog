import{k as t,o as e,c as o,a as n,m as a,F as c,i as l,b as p}from"./app.cec20444.js";import{_ as u}from"./plugin-vue_export-helper.21dcd24c.js";const r={},i=l(`<h1 id="vue-\u81EA\u5B9A\u7FA9-toast-\u548C-modal" tabindex="-1"><a class="header-anchor" href="#vue-\u81EA\u5B9A\u7FA9-toast-\u548C-modal" aria-hidden="true">#</a> Vue \u81EA\u5B9A\u7FA9 Toast \u548C Modal</h1><h2 id="\u6982\u8FF0" tabindex="-1"><a class="header-anchor" href="#\u6982\u8FF0" aria-hidden="true">#</a> \u6982\u8FF0</h2><p>\u5B9A\u7FA9\u5728 <code>utils.ts</code> \u8B93\u7D44\u4EF6\u8B8A\u6210\u57F7\u884C function \u5373\u53EF\u4F7F\u7528\uFF0C\u7121\u9700\u5728\u6A21\u677F\u4E2D\u5BA3\u544A\u3002</p><p>\u4F7F\u7528 Vue \u7684 <code>h()</code> \u548C <code>render()</code> \u51FD\u6578\u52D5\u614B\u5275\u5EFA\u7D44\u4EF6\u5BE6\u4F8B\u3002</p><h2 id="modal-\u7D44\u4EF6" tabindex="-1"><a class="header-anchor" href="#modal-\u7D44\u4EF6" aria-hidden="true">#</a> Modal \u7D44\u4EF6</h2><h3 id="\u7D44\u4EF6\u5B9A\u7FA9" tabindex="-1"><a class="header-anchor" href="#\u7D44\u4EF6\u5B9A\u7FA9" aria-hidden="true">#</a> \u7D44\u4EF6\u5B9A\u7FA9</h3><div class="language-vue ext-vue line-numbers-mode"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>absolute top-[50px] bottom-0 left-0 right-0 bg-im-transition-bg z-im-top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flex flex-col gap-6 items-center text-white bg-im-body-bg w-[80%] absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 px-3 py-6 rounded-lg text-[13px]<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text-sm<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        {{ title }}
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>span</span>
          <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>content<span class="token punctuation">&quot;</span></span>
          <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>max-w-[90%] break-all<span class="token punctuation">&quot;</span></span>
        <span class="token punctuation">&gt;</span></span>{{ content }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>span</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slot</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>footer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>flex justify-between w-full gap-3<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>im-button</span>
            <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>w-full<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cancelText<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cancelText<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isPending<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>cancel<span class="token punctuation">&quot;</span></span>
          <span class="token punctuation">/&gt;</span></span>

          <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>im-button</span>
            <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>w-full text-im-active<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">v-if</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>confirmText<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:text</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>confirmText<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">:disabled</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>isPending<span class="token punctuation">&quot;</span></span>
            <span class="token attr-name">@click</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>confirm<span class="token punctuation">&quot;</span></span>
          <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slot</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

type Props <span class="token operator">=</span> <span class="token punctuation">{</span>
  cancelText<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">,</span>
  confirmText<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">,</span>
  title<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">,</span>
  content<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">,</span>
  modelValue<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">,</span>
  isPending<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">,</span>
<span class="token punctuation">}</span>

<span class="token function">withDefaults</span><span class="token punctuation">(</span>defineProps<span class="token operator">&lt;</span>Props<span class="token operator">&gt;</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">cancelText</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">confirmText</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">title</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">content</span><span class="token operator">:</span> <span class="token string">&#39;&#39;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">modelValue</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
  <span class="token literal-property property">isPending</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> emit <span class="token operator">=</span> <span class="token function">defineEmits</span><span class="token punctuation">(</span><span class="token punctuation">[</span><span class="token string">&#39;confirm&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;cancel&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;update:modelValue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">confirm</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;confirm&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">const</span> <span class="token function-variable function">cancel</span> <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;cancel&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token function">emit</span><span class="token punctuation">(</span><span class="token string">&#39;update:modelValue&#39;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br></div></div><h3 id="utils-\u5B9A\u7FA9" tabindex="-1"><a class="header-anchor" href="#utils-\u5B9A\u7FA9" aria-hidden="true">#</a> Utils \u5B9A\u7FA9</h3><p>\u5728 <code>utils.ts</code> \u4E2D\u5B9A\u7FA9\uFF1A</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> h<span class="token punctuation">,</span> render <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> ImModal <span class="token keyword">from</span> <span class="token string">&#39;@/components/ImModal.vue&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">Confirm</span> <span class="token operator">=</span> <span class="token punctuation">(</span>props<span class="token operator">:</span> <span class="token punctuation">{</span>
  title<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  content<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  cancelText<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  confirmText<span class="token operator">?</span><span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span>
  onCancel<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span><span class="token punctuation">,</span>
  onConfirm<span class="token operator">?</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u6700\u5916\u5C64\u5BB9\u5668</span>
  <span class="token keyword">const</span> parent <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;im-window&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>parent<span class="token punctuation">)</span> <span class="token keyword">return</span><span class="token punctuation">;</span>
  
  <span class="token comment">// \u9632\u6B62\u91CD\u8907\u5275\u5EFA</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>document<span class="token punctuation">.</span><span class="token function">getElementById</span><span class="token punctuation">(</span><span class="token string">&#39;im-modal-container&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  
  <span class="token keyword">const</span> container <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  container<span class="token punctuation">.</span>id <span class="token operator">=</span> <span class="token string">&#39;im-modal-container&#39;</span><span class="token punctuation">;</span>
  
  <span class="token keyword">const</span> vm <span class="token operator">=</span> <span class="token function">h</span><span class="token punctuation">(</span>ImModal<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    <span class="token operator">...</span>props<span class="token punctuation">,</span>
    <span class="token function-variable function">onCancel</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      parent<span class="token operator">?.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>
      props<span class="token operator">?.</span>onCancel <span class="token operator">&amp;&amp;</span> props<span class="token operator">?.</span><span class="token function">onCancel</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">onConfirm</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      props<span class="token operator">?.</span>onConfirm <span class="token operator">&amp;&amp;</span> props<span class="token operator">?.</span><span class="token function">onConfirm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      parent<span class="token operator">?.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

  <span class="token function">render</span><span class="token punctuation">(</span>vm<span class="token punctuation">,</span> container<span class="token punctuation">)</span><span class="token punctuation">;</span>
  parent<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>container<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br></div></div><h3 id="\u4F7F\u7528\u65B9\u5F0F" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u65B9\u5F0F" aria-hidden="true">#</a> \u4F7F\u7528\u65B9\u5F0F</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Confirm <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils&#39;</span>

<span class="token function">Confirm</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  title<span class="token operator">:</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&#39;components_im_coversation_remove&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  content<span class="token operator">:</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&#39;components_im_coversation_remove_content&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span> name <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  cancelText<span class="token operator">:</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&#39;common_cancel&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  confirmText<span class="token operator">:</span> <span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&#39;common_confirm&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  <span class="token function-variable function">onConfirm</span><span class="token operator">:</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u57F7\u884C\u78BA\u8A8D\u5F8C\u7684\u52D5\u4F5C</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><h2 id="toast-\u7D44\u4EF6" tabindex="-1"><a class="header-anchor" href="#toast-\u7D44\u4EF6" aria-hidden="true">#</a> Toast \u7D44\u4EF6</h2><h3 id="utils-\u5B9A\u7FA9-1" tabindex="-1"><a class="header-anchor" href="#utils-\u5B9A\u7FA9-1" aria-hidden="true">#</a> Utils \u5B9A\u7FA9</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> h<span class="token punctuation">,</span> render <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> <span class="token function-variable function">showToast</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  text<span class="token operator">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> 
  errorMessage<span class="token operator">:</span> <span class="token builtin">boolean</span> <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> 
  duration<span class="token operator">:</span> <span class="token builtin">number</span> <span class="token operator">=</span> <span class="token number">2</span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// \u6700\u5916\u5C64\u5BB9\u5668</span>
  <span class="token keyword">const</span> imWindow<span class="token operator">:</span> HTMLElement <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">querySelector</span><span class="token punctuation">(</span><span class="token string">&#39;#im-window&#39;</span><span class="token punctuation">)</span> <span class="token keyword">as</span> HTMLElement<span class="token punctuation">;</span>
  
  <span class="token keyword">if</span> <span class="token punctuation">(</span>imWindow<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> toastContainer <span class="token operator">=</span> document<span class="token punctuation">.</span><span class="token function">createElement</span><span class="token punctuation">(</span><span class="token string">&#39;div&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    toastContainer<span class="token punctuation">.</span>classList<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token string">&#39;toast-container&#39;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    toastContainer<span class="token punctuation">.</span>style<span class="token punctuation">.</span>cssText <span class="token operator">=</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">
      position: absolute;
      top: 100px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 9999;
    </span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">;</span>
    imWindow<span class="token punctuation">.</span><span class="token function">appendChild</span><span class="token punctuation">(</span>toastContainer<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">const</span> VNode <span class="token operator">=</span> <span class="token function">h</span><span class="token punctuation">(</span>
      <span class="token string">&#39;div&#39;</span><span class="token punctuation">,</span> <span class="token comment">// type</span>
      <span class="token punctuation">{</span> 
        <span class="token keyword">class</span><span class="token operator">:</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">toast-item animate-fade-in-800 animate-fade-out-800 bg-black rounded-lg text-white py-2 px-4 </span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>errorMessage <span class="token operator">&amp;&amp;</span> <span class="token string">&#39;!text-im-danger-bg text-sm text-center&#39;</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">,</span> 
        innerHTML<span class="token operator">:</span> text 
      <span class="token punctuation">}</span><span class="token punctuation">,</span> <span class="token comment">// props</span>
    <span class="token punctuation">)</span><span class="token punctuation">;</span>
    
    <span class="token function">render</span><span class="token punctuation">(</span>VNode<span class="token punctuation">,</span> toastContainer<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token function">setTimeout</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
      imWindow<span class="token punctuation">.</span><span class="token function">removeChild</span><span class="token punctuation">(</span>toastContainer<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span> duration <span class="token operator">*</span> <span class="token number">1000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br></div></div><h3 id="\u4F7F\u7528\u65B9\u5F0F-1" tabindex="-1"><a class="header-anchor" href="#\u4F7F\u7528\u65B9\u5F0F-1" aria-hidden="true">#</a> \u4F7F\u7528\u65B9\u5F0F</h3><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> showToast <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@/utils&#39;</span>

<span class="token comment">// \u6210\u529F\u8A0A\u606F</span>
<span class="token function">showToast</span><span class="token punctuation">(</span><span class="token function">t</span><span class="token punctuation">(</span><span class="token string">&#39;components_im_submitInvitation&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u932F\u8AA4\u8A0A\u606F\uFF08\u7D05\u8272\uFF09</span>
<span class="token function">showToast</span><span class="token punctuation">(</span><span class="token string">&#39;\u932F\u8AA4\u8A0A\u606F&#39;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// \u81EA\u5B9A\u7FA9\u986F\u793A\u6642\u9593\uFF08\u79D2\uFF09</span>
<span class="token function">showToast</span><span class="token punctuation">(</span><span class="token string">&#39;3 \u79D2\u5F8C\u6D88\u5931&#39;</span><span class="token punctuation">,</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token number">3</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><h2 id="\u6838\u5FC3\u6982\u5FF5" tabindex="-1"><a class="header-anchor" href="#\u6838\u5FC3\u6982\u5FF5" aria-hidden="true">#</a> \u6838\u5FC3\u6982\u5FF5</h2><h3 id="_1-h-\u51FD\u6578" tabindex="-1"><a class="header-anchor" href="#_1-h-\u51FD\u6578" aria-hidden="true">#</a> 1. h() \u51FD\u6578</h3><p>\u7528\u65BC\u5275\u5EFA\u865B\u64EC DOM \u7BC0\u9EDE\uFF08VNode\uFF09</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token keyword">const</span> vnode <span class="token operator">=</span> <span class="token function">h</span><span class="token punctuation">(</span>Component<span class="token punctuation">,</span> props<span class="token punctuation">,</span> children<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_2-render-\u51FD\u6578" tabindex="-1"><a class="header-anchor" href="#_2-render-\u51FD\u6578" aria-hidden="true">#</a> 2. render() \u51FD\u6578</h3><p>\u5C07 VNode \u6E32\u67D3\u5230\u5BE6\u969B DOM \u4E2D</p><div class="language-typescript ext-ts line-numbers-mode"><pre class="language-typescript"><code><span class="token function">render</span><span class="token punctuation">(</span>vnode<span class="token punctuation">,</span> container<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="_3-\u52D5\u614B\u7D44\u4EF6\u639B\u8F09\u6D41\u7A0B" tabindex="-1"><a class="header-anchor" href="#_3-\u52D5\u614B\u7D44\u4EF6\u639B\u8F09\u6D41\u7A0B" aria-hidden="true">#</a> 3. \u52D5\u614B\u7D44\u4EF6\u639B\u8F09\u6D41\u7A0B</h3><div class="language-text ext-text line-numbers-mode"><pre class="language-text"><code>\u5275\u5EFA\u5BB9\u5668\u5143\u7D20
    \u2193
\u4F7F\u7528 h() \u5275\u5EFA VNode
    \u2193
\u4F7F\u7528 render() \u6E32\u67D3\u5230\u5BB9\u5668
    \u2193
\u5C07\u5BB9\u5668\u639B\u8F09\u5230\u9801\u9762
    \u2193
\u57F7\u884C\u5B8C\u7562\u5F8C\u79FB\u9664\u5BB9\u5668
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="\u512A\u9EDE" tabindex="-1"><a class="header-anchor" href="#\u512A\u9EDE" aria-hidden="true">#</a> \u512A\u9EDE</h2><ol><li><strong>\u51FD\u6578\u5F0F\u8ABF\u7528</strong>\uFF1A\u4E0D\u9700\u8981\u5728\u6A21\u677F\u4E2D\u5BA3\u544A\u7D44\u4EF6</li><li><strong>\u9748\u6D3B\u6027\u9AD8</strong>\uFF1A\u53EF\u4EE5\u52D5\u614B\u5275\u5EFA\u548C\u92B7\u6BC0</li><li><strong>\u7368\u7ACB\u6027</strong>\uFF1A\u4E0D\u4F9D\u8CF4\u7236\u7D44\u4EF6\u72C0\u614B</li><li><strong>\u4EE3\u78BC\u7C21\u6F54</strong>\uFF1A\u8ABF\u7528\u65B9\u5F0F\u7C21\u55AE\u76F4\u89C0</li></ol><h2 id="\u6CE8\u610F\u4E8B\u9805" tabindex="-1"><a class="header-anchor" href="#\u6CE8\u610F\u4E8B\u9805" aria-hidden="true">#</a> \u6CE8\u610F\u4E8B\u9805</h2><ol><li><strong>\u5BB9\u5668\u5143\u7D20</strong>\uFF1A\u9700\u8981\u78BA\u4FDD\u9801\u9762\u6709\u5C0D\u61C9\u7684\u5BB9\u5668\u5143\u7D20\uFF08\u5982 <code>#im-window</code>\uFF09</li><li><strong>\u8A18\u61B6\u9AD4\u7BA1\u7406</strong>\uFF1A\u4F7F\u7528\u5B8C\u7562\u8981\u8A18\u5F97\u79FB\u9664 DOM \u7BC0\u9EDE</li><li><strong>\u91CD\u8907\u5275\u5EFA</strong>\uFF1A\u9700\u8981\u6AA2\u67E5\u662F\u5426\u5DF2\u5B58\u5728\uFF0C\u907F\u514D\u91CD\u8907\u5275\u5EFA</li><li><strong>\u97FF\u61C9\u5F0F</strong>\uFF1A\u52D5\u614B\u5275\u5EFA\u7684\u7D44\u4EF6\u9700\u8981\u624B\u52D5\u8655\u7406\u97FF\u61C9\u5F0F\u908F\u8F2F</li></ol><h2 id="\u64F4\u5C55\u61C9\u7528" tabindex="-1"><a class="header-anchor" href="#\u64F4\u5C55\u61C9\u7528" aria-hidden="true">#</a> \u64F4\u5C55\u61C9\u7528</h2><p>\u53EF\u4EE5\u7528\u76F8\u540C\u65B9\u5F0F\u5275\u5EFA\u5176\u4ED6\u985E\u578B\u7684\u5F48\u7A97\uFF1A</p><ul><li>Loading \u8F09\u5165\u52D5\u756B</li><li>Alert \u63D0\u793A\u6846</li><li>Notification \u901A\u77E5</li><li>Drawer \u62BD\u5C5C</li><li>Dialog \u5C0D\u8A71\u6846</li></ul><h2 id="\u76F8\u95DC-api" tabindex="-1"><a class="header-anchor" href="#\u76F8\u95DC-api" aria-hidden="true">#</a> \u76F8\u95DC API</h2>`,34),k={href:"https://vuejs.org/api/render-function.html#h",target:"_blank",rel:"noopener noreferrer"},b=p("Vue h() \u51FD\u6578"),m={href:"https://vuejs.org/api/render-function.html#render",target:"_blank",rel:"noopener noreferrer"},d=p("Vue render() \u51FD\u6578");function g(h,f){const s=t("ExternalLinkIcon");return e(),o(c,null,[i,n("ul",null,[n("li",null,[n("a",k,[b,a(s)])]),n("li",null,[n("a",m,[d,a(s)])])])],64)}var y=u(r,[["render",g]]);export{y as default};
