import{i as p,o as e,c as t,a as n,k as o,F as l,b as s,g as r}from"./app.ca056781.js";import{_ as c}from"./plugin-vue_export-helper.21dcd24c.js";const u={},i=n("h1",{id:"vue-typescript\u914D\u7F6E\u7B46\u8A18",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#vue-typescript\u914D\u7F6E\u7B46\u8A18","aria-hidden":"true"},"#"),s(" Vue + typeScript\u914D\u7F6E\u7B46\u8A18")],-1),k={href:"https://www.itread01.com/content/1576343165.html",target:"_blank",rel:"noopener noreferrer"},b=s("\u539F\u6587"),m=r(`<ol><li>\u5B89\u88DDtypescript</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm install typescript @vue<span class="token operator">/</span>cli<span class="token operator">-</span>plugin<span class="token operator">-</span>typescript <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>\u5728\u5C08\u6848\u7684\u6839\u76EE\u9304\u4E0B\u5EFA\u7ACB <code>shims-vue.d.ts</code>\u3001<code>shims-tsx.d.ts</code>\u3001<code>tsconfig.json</code></li></ol><ul><li>shims-vue.d.ts</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>

declare module <span class="token string">&#39;*.vue&#39;</span> <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> Vue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><ul><li>shims-tsx.d.ts</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue<span class="token punctuation">,</span> <span class="token punctuation">{</span> VNode <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>

declare global <span class="token punctuation">{</span>
  namespace <span class="token constant">JSX</span> <span class="token punctuation">{</span>
    type Element <span class="token operator">=</span> VNode
    type ElementClass <span class="token operator">=</span> Vue
    <span class="token keyword">interface</span> <span class="token class-name">IntrinsicElements</span> <span class="token punctuation">{</span>
      <span class="token punctuation">[</span>elem<span class="token operator">:</span> string<span class="token punctuation">]</span><span class="token operator">:</span> any<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br></div></div><ul><li>tsconfig.json</li></ul><div class="language-json ext-json line-numbers-mode"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;es5&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;strict&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;preserve&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;importHelpers&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;allowSyntheticDefaultImports&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;experimentalDecorators&quot;</span><span class="token operator">:</span><span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;noImplicitThis&quot;</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token property">&quot;baseUrl&quot;</span><span class="token operator">:</span> <span class="token string">&quot;.&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;types&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;webpack-env&quot;</span>
    <span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token property">&quot;paths&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;@/*&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
        <span class="token string">&quot;src/*&quot;</span>
      <span class="token punctuation">]</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token property">&quot;lib&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
      <span class="token string">&quot;esnext&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dom&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;dom.iterable&quot;</span><span class="token punctuation">,</span>
      <span class="token string">&quot;scripthost&quot;</span>
    <span class="token punctuation">]</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;include&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;src/**/*.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;src/**/*.tsx&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;src/**/*.vue&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;tests/**/*.ts&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;tests/**/*.tsx&quot;</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;exclude&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;node_modules&quot;</span>
  <span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><ol start="3"><li>ESLint\u914D\u7F6E</li></ol><blockquote><p>\u5982\u679C\u4F7F\u7528\u7684\u662FVScode\uFF0C\u63A8\u85A6\u4F7F\u7528ESLint\u5916\u639B\u8F14\u52A9\u958B\u767C\u3002</p></blockquote><ul><li>\u5B89\u88DD(\u914D\u7F6E\u9805\u7684\u8AAA\u660E\u6AA2\u8996AlloyTeam ESLint \u898F\u5247)</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm install <span class="token operator">--</span>save<span class="token operator">-</span>dev eslint @typescript<span class="token operator">-</span>eslint<span class="token operator">/</span>parser @typescript<span class="token operator">-</span>eslint<span class="token operator">/</span>eslint<span class="token operator">-</span>plugin eslint<span class="token operator">-</span>config<span class="token operator">-</span>alloy
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u914D\u7F6E \u5728\u5C08\u6848\u7684\u6839\u76EE\u9304\u4E2D\u5EFA\u7ACB.eslintrc.js\uFF0C\u7136\u5F8C\u5C07\u4EE5\u4E0B\u5167\u5BB9\u8907\u88FD\u5230\u5176\u4E2D:</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token keyword">extends</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token string">&#39;alloy&#39;</span><span class="token punctuation">,</span>
    <span class="token string">&#39;alloy/typescript&#39;</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">env</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">browser</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token literal-property property">node</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token literal-property property">rules</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token comment">// \u81EA\u5B9A\u7FA9\u898F\u5247</span>
    <span class="token string-property property">&#39;spaced-comment&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;@typescript-eslint/explicit-member-accessibility&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;grouped-accessor-pairs&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;no-constructor-return&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;no-dupe-else-if&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;no-import-assign&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;no-setter-return&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span><span class="token punctuation">,</span>
    <span class="token string-property property">&#39;prefer-regex-literals&#39;</span><span class="token operator">:</span> <span class="token string">&#39;off&#39;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><ol start="4"><li>\u6A94\u6848\u6539\u9020</li></ol><ul><li>\u5165\u53E3\u6A94\u6848 <ol><li>main.js \u6539\u70BA main.ts</li><li>vue.config.js \u4FEE\u6539\u5165\u53E3\u6A94\u6848</li></ol></li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token literal-property property">pages</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">index</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">entry</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token operator">+</span><span class="token string">&#39;/src/main.ts&#39;</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>vue\u5143\u4EF6\u6A94\u6848</li></ul><blockquote><p>\u96A8\u8457TypeScript\u548CES6\u88E1\u5F15\u5165\u4E86\u985E\uFF0C\u5728\u4E00\u4E9B\u5834\u666F\u4E0B\u6211\u5011\u9700\u8981\u984D\u5916\u7684\u7279\u6027\u4F86\u652F\u63F4\u6A19\u8A3B\u6216\u4FEE\u6539\u985E\u53CA\u5176\u6210\u54E1\u3002 \u88DD\u98FE\u5668\uFF08Decorators\uFF09\u70BA\u6211\u5011\u5728\u985E\u7684\u5BA3\u544A\u53CA\u6210\u54E1\u4E0A\u901A\u904E\u8D85\u7A0B\u5F0F\u8A2D\u8A08\u8A9E\u6CD5\u65B0\u589E\u6A19\u8A3B\u63D0\u4F9B\u4E86\u4E00\u7A2E\u65B9\u5F0F\u3002 Vue \u4E5F\u70BA\u6211\u5011\u63D0\u4F9B\u4E86\u985E\u98A8\u683C\u5143\u4EF6\u7684 TypeScript \u88DD\u98FE\u5668\uFF0C\u4F7F\u7528\u88DD\u98FE\u5668\u524D\u9700\u8981\u5728 tsconfig.json \u5C07 experimentalDecorators \u8A2D\u5B9A\u70BA true\u3002</p></blockquote><ol><li>\u5B89\u88DDvue\u88DD\u98FE\u5668(vue-property-decorator\u5EAB\u5B8C\u5168\u4F9D\u8CF4vue-class-component\uFF0C\u5728\u5B89\u88DD\u6642\u8981\u4E00\u8D77\u88DD\u4E0A)</li></ol><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm install vue<span class="token operator">-</span><span class="token keyword">class</span><span class="token operator">-</span>component vue<span class="token operator">-</span>property<span class="token operator">-</span>decorator <span class="token operator">-</span><span class="token constant">D</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ol start="2"><li>\u6539\u9020.vue (\u53EA\u9700\u8981\u4FEE\u6539srcipt\u5167\u7684\u6771\u897F\u5373\u53EF\uFF0C\u5176\u4ED6\u4E0D\u9700\u8981\u6539\u52D5)</li></ol><blockquote><p>\u985E\u6210\u54E1\u4FEE\u98FE\u7B26\uFF0C\u4E0D\u65B0\u589E\u4FEE\u98FE\u7B26\u5247\u9810\u8A2D\u70BApublic public\uFF1A\u516C\u6709\uFF0C\u53EF\u4EE5\u81EA\u7531\u8A2A\u554F\u985E\u7684\u6210\u54E1 protected\uFF1A\u4FDD\u8B77\uFF0C\u985E\u53CA\u5176\u7E7C\u627F\u7684\u5B50\u985E\u53EF\u8A2A\u554F private\uFF1A\u79C1\u6709\uFF0C\u53EA\u6709\u985E\u53EF\u4EE5\u8A2A\u554F</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token operator">&lt;</span>script lang<span class="token operator">=</span><span class="token string">&quot;ts&quot;</span><span class="token operator">&gt;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-property-decorator&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> draggable <span class="token keyword">from</span> <span class="token string">&#39;vuedraggable&#39;</span>

@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
 <span class="token function">created</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   
 <span class="token punctuation">}</span><span class="token punctuation">,</span>
 <span class="token literal-property property">components</span><span class="token operator">:</span><span class="token punctuation">{</span>
   draggable
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
 <span class="token comment">/* data */</span>
 <span class="token keyword">private</span> <span class="token literal-property property">ButtonGrounp</span><span class="token operator">:</span>Array<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token string">&#39;edit&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;del&#39;</span><span class="token punctuation">]</span>
 <span class="token keyword">public</span> <span class="token literal-property property">dialogFormVisible</span><span class="token operator">:</span>boolean <span class="token operator">=</span> <span class="token boolean">false</span>
 
 <span class="token comment">/*method*/</span>
 <span class="token function">setDialogFormVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>dialogFormVisible <span class="token operator">=</span> <span class="token boolean">false</span>
 <span class="token punctuation">}</span>
 <span class="token function">addButton</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">btn</span><span class="token operator">:</span>string</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">this</span><span class="token punctuation">.</span>ButtonGrounp<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>btn<span class="token punctuation">)</span>
 <span class="token punctuation">}</span>

 <span class="token comment">/*compute*/</span>
 <span class="token keyword">get</span> <span class="token function">routeType</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
   <span class="token keyword">return</span> <span class="token keyword">this</span><span class="token punctuation">.</span>$route<span class="token punctuation">.</span>params<span class="token punctuation">.</span>type
 <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
<span class="token operator">&lt;</span><span class="token operator">/</span>script<span class="token operator">&gt;</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br></div></div><ul><li>Prop</li></ul><blockquote><p>!: \u70BA\u5C6C\u6027\u4F7F\u7528\u660E\u78BA\u7684\u8CE6\u503C\u65B7\u8A00\u4FEE\u98FE\u7B26\uFF0C\u77AD\u89E3\u66F4\u591A\u770B\u6587\u4EF6</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue<span class="token punctuation">,</span> Prop <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-property-decorator&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  @<span class="token function">Prop</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span><span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span><span class="token punctuation">}</span><span class="token punctuation">)</span> readonly id<span class="token operator">!</span><span class="token operator">:</span> number
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>\u7B49\u540C\u65BC</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token literal-property property">props</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token literal-property property">id</span><span class="token operator">:</span><span class="token punctuation">{</span>
      <span class="token literal-property property">type</span><span class="token operator">:</span> Number<span class="token punctuation">,</span>
      <span class="token keyword">default</span><span class="token operator">:</span> <span class="token number">0</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br></div></div><ul><li>Watch</li></ul><blockquote><p>\u66F4\u591A\u88DD\u98FE\u5668\u4F7F\u7528\uFF0C\u53C3\u8003vue-property-decorator\u6587\u4EF6</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue<span class="token punctuation">,</span> Watch <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-property-decorator&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  @<span class="token function">Watch</span><span class="token punctuation">(</span><span class="token string">&#39;dialogFormVisible&#39;</span><span class="token punctuation">)</span>
  <span class="token function">dialogFormVisibleChange</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">newVal</span><span class="token operator">:</span>boolean</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// \u4E00\u4E9B\u64CD\u4F5C</span>
  <span class="token punctuation">}</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u7B49\u540C\u65BC</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token literal-property property">watch</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token function">dialogFormVisible</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
      <span class="token comment">// \u4E00\u4E9B\u64CD\u4F5C</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><ul><li>Provide/Inject</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token comment">// App.vue</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span>Component<span class="token punctuation">,</span> Vue<span class="token punctuation">,</span> Provide<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-property-decorator&#39;</span>
@Component
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">App</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  @<span class="token function">Provide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> app <span class="token operator">=</span> <span class="token keyword">this</span>
<span class="token punctuation">}</span>

<span class="token comment">// MyComponent.vue</span>
<span class="token comment">// App.vue</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token function">provide</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token punctuation">{</span>
      <span class="token string-property property">&#39;app&#39;</span><span class="token operator">:</span> <span class="token keyword">this</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// MyComponent.vue</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">inject</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;app&#39;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br></div></div><ol start="5"><li>\u70BAvue\u4F8B\u9805\u65B0\u589E\u5C6C\u6027/\u65B9\u6CD5</li></ol><blockquote><p>\u7576\u6211\u5011\u5728\u4F7F\u7528<code>this.$route</code>\u6216\u4E00\u4E9B\u539F\u578B\u4E0A\u7684\u65B9\u6CD5\u6642\uFF0Ctypescript\u7121\u6CD5\u9032\u884C\u63A8\u65B7\uFF0C<strong>\u5728\u7DE8\u8B6F\u6642\u6703\u5831\u5C6C\u6027$route\u4E0D\u5B58\u5728\u7684\u932F\u8AA4</strong>\uFF0C\u9700\u8981\u70BA\u9019\u4E9B\u5168\u57DF\u6027\u7684\u5C6C\u6027\u6216\u65B9\u6CD5\u65B0\u589E\u5168\u57DF\u6027\u5BA3\u544A \u5C0Dshims-vue.d.ts\u505A\u4FEE\u6539\uFF0C\u7576\u7136\u4F60\u4E5F\u53EF\u4EE5\u9078\u64C7\u81EA\u5B9A\u7FA9*.d.ts\u4F86\u65B0\u589E\u5BA3\u544A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> VueRouter<span class="token punctuation">,</span> <span class="token punctuation">{</span> Route <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue-router&#39;</span>

declare module <span class="token string">&#39;*.vue&#39;</span> <span class="token punctuation">{</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> Vue<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

declare module <span class="token string">&#39;vue/types/vue&#39;</span> <span class="token punctuation">{</span>
  <span class="token keyword">interface</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">$api</span><span class="token operator">:</span> any<span class="token punctuation">;</span>
    <span class="token literal-property property">$bus</span><span class="token operator">:</span> any<span class="token punctuation">;</span>
    <span class="token literal-property property">$router</span><span class="token operator">:</span> VueRouter<span class="token punctuation">;</span>
    <span class="token literal-property property">$route</span><span class="token operator">:</span> Route<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><ol start="6"><li>\u81EA\u5B9A\u7FA9\u578B\u5225\u5B9A\u7FA9\u6A94\u6848</li></ol><blockquote><p>\u7576\u4E00\u4E9B\u578B\u5225\u6216\u4ECB\u9762\u7B49\u9700\u8981\u983B\u7E41\u4F7F\u7528\u6642\uFF0C\u6211\u5011\u53EF\u4EE5\u70BA\u5C08\u6848\u7DE8\u5BEB\u5168\u57DF\u6027\u578B\u5225\u5B9A\u7FA9\uFF0C \u6839\u8DEF\u5F91\u4E0B\u5EFA\u7ACB@types\u8CC7\u6599\u593E\uFF0C\u88E1\u9762\u5B58\u653E*.d.ts\u6A94\u6848\uFF0C\u5C08\u9580\u7528\u65BC\u7BA1\u7406\u5C08\u6848\u4E2D\u7684\u578B\u5225\u5B9A\u7FA9\u6A94\u6848\u3002</p></blockquote><p>\u7BC4\u4F8B global.d.ts</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token comment">//declare \u53EF\u4EE5\u5EFA\u7ACB *.d.ts \u6A94\u6848\u4E2D\u7684\u8B8A\u6578\uFF0Cdeclare \u53EA\u80FD\u4F5C\u7528\u57DF\u6700\u5916\u5C64</span>
  <span class="token comment">//\u8B8A\u6578</span>
  declare <span class="token keyword">var</span> <span class="token literal-property property">num</span><span class="token operator">:</span> number<span class="token punctuation">;</span>

  <span class="token comment">//\u578B\u5225</span>
  type StrOrNum <span class="token operator">=</span> string <span class="token operator">|</span> number

  <span class="token comment">//\u51FD\u5F0F</span>
  declare <span class="token keyword">function</span> <span class="token function">handler</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">str</span><span class="token operator">:</span> string</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>

  <span class="token comment">// \u985E</span>
  declare <span class="token keyword">class</span> <span class="token class-name">User</span> <span class="token punctuation">{</span> 
    
  <span class="token punctuation">}</span>

  <span class="token comment">//\u4ECB\u9762</span>
  <span class="token keyword">interface</span> <span class="token class-name">OBJ</span> <span class="token punctuation">{</span>
    <span class="token punctuation">[</span>propName<span class="token operator">:</span> string<span class="token punctuation">]</span><span class="token operator">:</span> any<span class="token punctuation">;</span>
    <span class="token punctuation">[</span>propName<span class="token operator">:</span> number<span class="token punctuation">]</span><span class="token operator">:</span> any<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>

  <span class="token keyword">interface</span> <span class="token class-name">RES</span> <span class="token keyword">extends</span> <span class="token class-name">OBJ</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">resultCode</span><span class="token operator">:</span> number<span class="token punctuation">;</span>
    <span class="token literal-property property">data</span><span class="token operator">:</span> any<span class="token punctuation">;</span>
    msg<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br></div></div><ol start="7"><li>\u89E3\u653E\u96D9\u624B\uFF0Ctransvue2ts\u8F49\u63DB\u5DE5\u5177</li></ol><blockquote><p>\u6539\u9020\u904E\u7A0B\u6700\u9EBB\u7169\u7684\u5C31\u662F\u8A9E\u6CD5\u8F49\u63DB\uFF0C\u5167\u5BB9\u90FD\u662F\u4E00\u4E9B\u56FA\u5B9A\u7684\u5BEB\u6CD5\uFF0C\u9019\u4E9B\u91CD\u8907\u4E14\u67AF\u71E5\u7684\u5DE5\u4F5C\u53EF\u4EE5\u4EA4\u7D66\u6A5F\u5668\u53BB\u505A\u3002\u9019\u88E1\u6211\u5011\u53EF\u4EE5\u85C9\u52A9 transvue2ts \u5DE5\u5177\u63D0\u9AD8\u6548\u7387\uFF0Ctransvue2ts \u6703\u5E6B\u6211\u5011\u628Adata\u3001prop\u3001watch\u7B49\u8A9E\u6CD5\u8F49\u63DB\u70BA\u88DD\u98FE\u5668\u8A9E\u6CD5\u3002</p></blockquote><ul><li>\u5B89\u88DD</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>npm i transvue2ts <span class="token operator">-</span>g
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br></div></div><ul><li>\u4F7F\u7528(\u5DE5\u5177\u53EA\u662F\u5E6B\u6211\u5011\u8F49\u63DB\u90E8\u5206\u8A9E\u6CD5\u3002\u5DE5\u5177\u672A\u80FD\u8655\u7406\u7684\u8A9E\u6CD5\u548C\u5F15\u6578\u7684\u578B\u5225\u5B9A\u7FA9\uFF0C\u9084\u662F\u9700\u8981\u6211\u5011\u53BB\u4FEE\u6539\u7684\u3002\u8981\u6CE8\u610F\u7684\u662F\u8F49\u63DB\u5F8C\u8A3B\u91CB\u6703\u88AB\u904E\u6FFE\u6389)</li></ul><blockquote><p>\u5B89\u88DD\u5B8C\u4E4B\u5F8C\uFF0Ctransvue2ts \u5EAB\u7684\u8DEF\u5F91\u6703\u5BEB\u5230\u7CFB\u7D71\u7684 path\u4E2D\uFF0C\u76F4\u63A5\u958B\u555F\u547D\u4EE4\u5217\u5DE5\u5177\u5373\u53EF\u4F7F\u7528\uFF0C\u547D\u4EE4\u7684\u7B2C\u4E8C\u500B\u5F15\u6578\u662F\u6A94\u6848\u7684\u5B8C\u6574\u8DEF\u5F91\u3002 <strong>\u57F7\u884C\u547D\u4EE4\u5F8C\u6703\u5728\u540C\u7D1A\u76EE\u9304\u751F\u6210\u8F49\u63DB\u597D\u7684\u65B0\u6A94\u6848\uFF0C\u4F8B\u5982\u8655\u7406view\u8CC7\u6599\u593E\u4E0B\u7684index.vue\uFF0C\u8F49\u63DB\u5F8C\u6703\u751F\u6210indexTS.vue</strong>\u3002</p></blockquote><p>\u8655\u7406\u55AE\u6A94\u6848\u5143\u4EF6</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>transvue2ts <span class="token constant">D</span><span class="token operator">:</span>\\typescript<span class="token operator">-</span>vue<span class="token operator">-</span>admin<span class="token operator">-</span>demo\\src\\pages\\index<span class="token punctuation">.</span><span class="token parameter">vue</span>
<span class="token operator">=&gt;</span>
\u8F38\u51FA\u8DEF\u5F91\uFF1A<span class="token constant">D</span><span class="token operator">:</span>\\typescript<span class="token operator">-</span>vue<span class="token operator">-</span>admin<span class="token operator">-</span>demo\\src\\pages\\indexTS<span class="token punctuation">.</span>vue
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u8655\u7406\u8CC7\u6599\u593E\u4E0B\u7684\u6240\u6709vue\u5143\u4EF6\u6A94\u6848</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>transvue2ts <span class="token constant">D</span><span class="token operator">:</span>\\typescript<span class="token operator">-</span>vue<span class="token operator">-</span>admin<span class="token operator">-</span>demo\\src\\<span class="token parameter">pages</span>
<span class="token operator">=&gt;</span>
\u8F38\u51FA\u8DEF\u5F91\uFF1A<span class="token constant">D</span><span class="token operator">:</span>\\typescript<span class="token operator">-</span>vue<span class="token operator">-</span>admin<span class="token operator">-</span>demo\\src\\pagesTS
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><ul><li><p>\u88DC\u5145</p><ul><li>\u95DC\u65BC\u7B2C\u4E09\u65B9\u5EAB\u4F7F\u7528</li></ul><blockquote><p>\u4E00\u4E9B\u4E09\u65B9\u5EAB\u6703\u5728\u5B89\u88DD\u6642\uFF0C\u5305\u542B\u6709\u578B\u5225\u5B9A\u7FA9\u6A94\u6848\uFF0C\u4F7F\u7528\u6642\u7121\u9700\u81EA\u5DF1\u53BB\u5B9A\u7FA9\uFF0C\u53EF\u4EE5\u76F4\u63A5\u4F7F\u7528\u5B98\u65B9\u63D0\u4F9B\u7684\u578B\u5225\u5B9A\u7FA9\u3002 node_modules\u4E2D\u627E\u5230\u5C0D\u61C9\u7684\u5305\u8CC7\u6599\u593E\uFF0C\u578B\u5225\u6A94\u6848\u4E00\u822C\u90FD\u6703\u5B58\u653E\u5728types\u8CC7\u6599\u593E\u5167\uFF0C\u5176\u5BE6\u578B\u5225\u5B9A\u7FA9\u6A94\u6848\u5C31\u50CF\u6587\u4EF6\u4E00\u6A23\uFF0C\u9019\u4E9B\u5167\u5BB9\u80FD\u5920\u6E05\u6670\u7684\u770B\u5230\u6240\u9700\u5F15\u6578\u548C\u5F15\u6578\u578B\u5225\u3002</p></blockquote><p>\u7BC4\u4F8B1 (element-ui \u5143\u4EF6\u5F15\u6578)</p><p>\u4F7F\u7528\u578B\u5225\u5B9A\u7FA9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-property-decorator&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> ElLoadingComponent<span class="token punctuation">,</span> LoadingServiceOptions <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;element-ui/types/loading&#39;</span>

<span class="token keyword">let</span> <span class="token literal-property property">loadingMark</span><span class="token operator">:</span>ElLoadingComponent<span class="token punctuation">;</span> 
<span class="token keyword">let</span> <span class="token literal-property property">loadingConfig</span><span class="token operator">:</span>LoadingServiceOptions <span class="token operator">=</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">lock</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token literal-property property">text</span><span class="token operator">:</span> <span class="token string">&quot;\u8F09\u5165\u4E2D&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">spinner</span><span class="token operator">:</span> <span class="token string">&quot;el-icon-loading&quot;</span><span class="token punctuation">,</span>
  <span class="token literal-property property">background</span><span class="token operator">:</span> <span class="token string">&quot;rgba(255, 255, 255, 0.7)&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

@Component
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  <span class="token operator">...</span>
  <span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    loadingMark <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">$loading</span><span class="token punctuation">(</span>loadingConfig<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>$api<span class="token punctuation">.</span><span class="token function">getList</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">res</span><span class="token operator">:</span><span class="token constant">RES</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        loadingMark<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token operator">...</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br></div></div><p>element-ui/types/loading\uFF0C\u539F\u6A94\u6848\u88E1\u9084\u6709\u5F88\u591A\u8A3B\u91CB\uFF0C\u5C0D\u6BCF\u500B\u5C6C\u6027\u90FD\u505A\u51FA\u63CF\u8FF0</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">LoadingServiceOptions</span> <span class="token punctuation">{</span>
  target<span class="token operator">?</span><span class="token operator">:</span> HTMLElement <span class="token operator">|</span> string
  body<span class="token operator">?</span><span class="token operator">:</span> boolean
  fullscreen<span class="token operator">?</span><span class="token operator">:</span> boolean
  lock<span class="token operator">?</span><span class="token operator">:</span> boolean
  text<span class="token operator">?</span><span class="token operator">:</span> string
  spinner<span class="token operator">?</span><span class="token operator">:</span> string
  background<span class="token operator">?</span><span class="token operator">:</span> string
  customClass<span class="token operator">?</span><span class="token operator">:</span> string
<span class="token punctuation">}</span>
<span class="token keyword">export</span> declare <span class="token keyword">class</span> <span class="token class-name">ElLoadingComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  <span class="token function">close</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span>
<span class="token punctuation">}</span>
declare module <span class="token string">&#39;vue/types/vue&#39;</span> <span class="token punctuation">{</span>
  <span class="token keyword">interface</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
    <span class="token function">$loading</span> <span class="token punctuation">(</span>options<span class="token operator">:</span> LoadingServiceOptions<span class="token punctuation">)</span><span class="token operator">:</span> ElLoadingComponent
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>\u7BC4\u4F8B2 (vue-router \u9264\u5B50\u51FD\u5F0F)</p><p>\u4F7F\u7528\u578B\u5225\u5B9A\u7FA9</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> Component<span class="token punctuation">,</span> Vue <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-property-decorator&quot;</span><span class="token punctuation">;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> NavigationGuard <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span><span class="token punctuation">;</span>

@Component
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">MyComponent</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token punctuation">{</span>
  <span class="token literal-property property">beforeRouteUpdate</span><span class="token operator">:</span><span class="token function-variable function">NavigationGuard</span> <span class="token operator">=</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> from<span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><p>\u5728vue-router/types/router.d.ts\u4E2D\uFF0C\u958B\u982D\u5C31\u53EF\u4EE5\u770B\u5230\u9264\u5B50\u51FD\u5F0F\u7684\u578B\u5225\u5B9A\u7FA9\u3002</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">export</span> type NavigationGuard<span class="token operator">&lt;</span><span class="token constant">V</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span> <span class="token operator">=</span> Vue<span class="token operator">&gt;</span> <span class="token operator">=</span> <span class="token punctuation">(</span>
  <span class="token literal-property property">to</span><span class="token operator">:</span> Route<span class="token punctuation">,</span>
  <span class="token literal-property property">from</span><span class="token operator">:</span> Route<span class="token punctuation">,</span>
  <span class="token literal-property property">next</span><span class="token operator">:</span> <span class="token punctuation">(</span>to<span class="token operator">?</span><span class="token operator">:</span> RawLocation <span class="token operator">|</span> <span class="token boolean">false</span> <span class="token operator">|</span> <span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">vm</span><span class="token operator">:</span> <span class="token constant">V</span></span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> any<span class="token punctuation">)</span> <span class="token operator">|</span> <span class="token keyword">void</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token keyword">void</span>
<span class="token punctuation">)</span> <span class="token operator">=&gt;</span> any
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>\u9084\u6709\u524D\u9762\u6240\u4F7F\u7528\u5230\u7684Router\u3001Route\uFF0C\u6240\u6709\u7684\u65B9\u6CD5\u3001\u5C6C\u6027\u3001\u5F15\u6578\u7B49\u90FD\u5728\u9019\u88E1\u88AB\u63CF\u8FF0\u5F97\u6E05\u6E05\u695A\u695A</p><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code>  <span class="token keyword">export</span> declare <span class="token keyword">class</span> <span class="token class-name">VueRouter</span> <span class="token punctuation">{</span>
    <span class="token function">constructor</span> <span class="token punctuation">(</span>options<span class="token operator">?</span><span class="token operator">:</span> RouterOptions<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token literal-property property">app</span><span class="token operator">:</span> Vue<span class="token punctuation">;</span>
    <span class="token literal-property property">mode</span><span class="token operator">:</span> RouterMode<span class="token punctuation">;</span>
    <span class="token literal-property property">currentRoute</span><span class="token operator">:</span> Route<span class="token punctuation">;</span>

    <span class="token function">beforeEach</span> <span class="token punctuation">(</span>guard<span class="token operator">:</span> NavigationGuard<span class="token punctuation">)</span><span class="token operator">:</span> Function<span class="token punctuation">;</span>
    <span class="token function">beforeResolve</span> <span class="token punctuation">(</span>guard<span class="token operator">:</span> NavigationGuard<span class="token punctuation">)</span><span class="token operator">:</span> Function<span class="token punctuation">;</span>
    <span class="token function">afterEach</span> <span class="token punctuation">(</span><span class="token function-variable function">hook</span><span class="token operator">:</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token literal-property property">to</span><span class="token operator">:</span> Route<span class="token punctuation">,</span> <span class="token literal-property property">from</span><span class="token operator">:</span> Route</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> any<span class="token punctuation">)</span><span class="token operator">:</span> Function<span class="token punctuation">;</span>
    <span class="token function">push</span> <span class="token punctuation">(</span>location<span class="token operator">:</span> RawLocation<span class="token punctuation">,</span> onComplete<span class="token operator">?</span><span class="token operator">:</span> Function<span class="token punctuation">,</span> onAbort<span class="token operator">?</span><span class="token operator">:</span> ErrorHandler<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token function">replace</span> <span class="token punctuation">(</span>location<span class="token operator">:</span> RawLocation<span class="token punctuation">,</span> onComplete<span class="token operator">?</span><span class="token operator">:</span> Function<span class="token punctuation">,</span> onAbort<span class="token operator">?</span><span class="token operator">:</span> ErrorHandler<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token function">go</span> <span class="token punctuation">(</span>n<span class="token operator">:</span> number<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token function">back</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token function">forward</span> <span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token function">getMatchedComponents</span> <span class="token punctuation">(</span>to<span class="token operator">?</span><span class="token operator">:</span> RawLocation <span class="token operator">|</span> Route<span class="token punctuation">)</span><span class="token operator">:</span> Component<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token function">onReady</span> <span class="token punctuation">(</span>cb<span class="token operator">:</span> Function<span class="token punctuation">,</span> errorCb<span class="token operator">?</span><span class="token operator">:</span> ErrorHandler<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token function">onError</span> <span class="token punctuation">(</span>cb<span class="token operator">:</span> ErrorHandler<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token function">addRoutes</span> <span class="token punctuation">(</span>routes<span class="token operator">:</span> RouteConfig<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span><span class="token operator">:</span> <span class="token keyword">void</span><span class="token punctuation">;</span>
    <span class="token function">resolve</span> <span class="token punctuation">(</span>to<span class="token operator">:</span> RawLocation<span class="token punctuation">,</span> current<span class="token operator">?</span><span class="token operator">:</span> Route<span class="token punctuation">,</span> append<span class="token operator">?</span><span class="token operator">:</span> boolean<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">location</span><span class="token operator">:</span> Location<span class="token punctuation">;</span>
      <span class="token literal-property property">route</span><span class="token operator">:</span> Route<span class="token punctuation">;</span>
      <span class="token literal-property property">href</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
      <span class="token literal-property property">normalizedTo</span><span class="token operator">:</span> Location<span class="token punctuation">;</span>
      <span class="token literal-property property">resolved</span><span class="token operator">:</span> Route<span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">;</span>

    <span class="token keyword">static</span> <span class="token literal-property property">install</span><span class="token operator">:</span> PluginFunction<span class="token operator">&lt;</span>never<span class="token operator">&gt;</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">export</span> <span class="token keyword">interface</span> <span class="token class-name">Route</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">path</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
    name<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
    <span class="token literal-property property">hash</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
    <span class="token literal-property property">query</span><span class="token operator">:</span> Dictionary<span class="token operator">&lt;</span>string <span class="token operator">|</span> <span class="token punctuation">(</span>string <span class="token operator">|</span> <span class="token keyword">null</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token literal-property property">params</span><span class="token operator">:</span> Dictionary<span class="token operator">&lt;</span>string<span class="token operator">&gt;</span><span class="token punctuation">;</span>
    <span class="token literal-property property">fullPath</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
    <span class="token literal-property property">matched</span><span class="token operator">:</span> RouteRecord<span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
    redirectedFrom<span class="token operator">?</span><span class="token operator">:</span> string<span class="token punctuation">;</span>
    meta<span class="token operator">?</span><span class="token operator">:</span> any<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br></div></div><ul><li>\u81EA\u5B9A\u7FA9\u4E09\u65B9\u5EAB\u5BA3\u544A \u7576\u4F7F\u7528\u7684\u4E09\u65B9\u5EAB\u672A\u5E36\u6709 *.d.ts \u5BA3\u544A\u6A94\u6848\u6642\uFF0C\u5728\u5C08\u6848\u7DE8\u8B6F\u6642\u6703\u5831\u9019\u6A23\u7684\u932F\u8AA4\uFF1A</li></ul><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code> Could not find a declaration file <span class="token keyword">for</span> module <span class="token string">&#39;vuedraggable&#39;</span><span class="token punctuation">.</span> <span class="token string">&#39;D:/typescript-vue-admin-demo/node_modules/vuedraggable/dist/vuedraggable.umd.min.js&#39;</span> implicitly has an <span class="token string">&#39;any&#39;</span> type<span class="token punctuation">.</span>
 Try <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">npm install @types/vuedraggable</span><span class="token template-punctuation string">\`</span></span> <span class="token keyword">if</span> it exists or add a <span class="token keyword">new</span> <span class="token class-name">declaration</span> <span class="token punctuation">(</span><span class="token punctuation">.</span>d<span class="token punctuation">.</span>ts<span class="token punctuation">)</span> file containing <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">declare module &#39;vuedraggable&#39;;</span><span class="token template-punctuation string">\`</span></span>
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>\u5927\u81F4\u610F\u601D\u70BA vuedraggable \u627E\u4E0D\u5230\u5BA3\u544A\u6A94\u6848\uFF0C\u53EF\u4EE5\u5617\u8A66\u5B89\u88DD @types/vuedraggable(\u5982\u679C\u5B58\u5728)\uFF0C\u6216\u8005\u81EA\u5B9A\u7FA9\u65B0\u7684\u5BA3\u544A\u6A94\u6848\u3002</p><ul><li><p>\u89E3\u6C7A\u65B9\u6CD5</p><ol><li>\u5B89\u88DD @types/vuedraggable</li></ol><blockquote><p>\u6309\u7167\u63D0\u793A\u5148\u9078\u64C7\u7B2C\u4E00\u7A2E\u65B9\u5F0F\uFF0C\u5B89\u88DD @types/vuedraggable\uFF0C\u7136\u5F8C\u767C\u73FE\u932F\u8AA4 404 not found\uFF0C\u8AAA\u660E\u9019\u500B\u5305\u4E0D\u5B58\u5728\u3002\u611F\u89BA\u9019\u500B\u5143\u4EF6\u9084\u633A\u591A\u4EBA\u7528\u7684\uFF08\u5468\u4E0B\u8F09\u91CF18w\uFF09\uFF0C\u6C92\u60F3\u5230\u793E\u7FA4\u5C45\u7136\u6C92\u6709\u5BA3\u544A\u6A94\u6848\u3002</p></blockquote><ol start="2"><li>\u81EA\u5B9A\u7FA9\u5BA3\u544A\u6A94\u6848</li></ol><blockquote><p>\u9996\u5148\u5728 node_modules/@types \u4E0B\u5EFA\u7ACB vuedraggable \u8CC7\u6599\u593E\uFF0C\u5982\u679C\u6C92\u6709 @types \u8CC7\u6599\u593E\u53EF\u81EA\u884C\u5EFA\u7ACB\u3002vuedraggable \u8CC7\u6599\u593E\u4E0B\u5EFA\u7ACB index.d.ts\u3002\u7DE8\u5BEB\u4EE5\u4E0B\u5167\u5BB9\uFF1A</p></blockquote><div class="language-javascript ext-js line-numbers-mode"><pre class="language-javascript"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
declare <span class="token keyword">class</span> <span class="token class-name">Vuedraggable</span> <span class="token keyword">extends</span> <span class="token class-name">Vue</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token operator">=</span> Vuedraggable
</code></pre><div class="line-numbers" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>\u91CD\u65B0\u7DE8\u8B6F\u5F8C\u6C92\u6709\u5831\u932F\uFF0C\u89E3\u6C7A\u554F\u984C\u3002</p></li></ul></li></ul>`,55);function d(y,g){const a=p("ExternalLinkIcon");return e(),t(l,null,[i,n("p",null,[n("a",k,[b,o(a)])]),m],64)}var f=c(u,[["render",d]]);export{f as default};
